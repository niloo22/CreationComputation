


/* Using DIY pressure sensor to switch on and off LEDs. Sensing presure make LEDs gradually turn on. Lifting pressure makes LEDs gradually turn off.

The threshold is set to control the brightness of LEDs and to map the different values of the pressure sensor to the LEDs.
Using code reference from OCAD U Digital Futures Creation & Computation 
Fall 2025 taught by Kate Hartman & Nick Puckett.*/


// initialize variables
int sensorValue = 0;
int sensorPin = A0;
int LEDpin = 2;
int LEDpin2 = 3;
int LEDpin3 = 10;
int mappedSensorValue = 0;

int threshold = 30                                                                            f;

void setup() {
  // initialize serial communication: 
  Serial.begin(9600);
  pinMode(LEDpin,OUTPUT);
  pinMode(LEDpin2,OUTPUT);
  pinMode(LEDpin3,OUTPUT);

}

void loop() {
  // read sensor pin and store value in a variable: 
  sensorValue = analogRead(sensorPin); 

  // map sensor value 
  //mappedSensorValue = map(sensorValue, 0, 1023, 0, 255);

   if (sensorValue > threshold) {
  // map only values above threshold
  mappedSensorValue = map(sensorValue, threshold, 1023, 0, 255);
  mappedSensorValue = constrain(mappedSensorValue, 0, 255); // safety
  } else {
    mappedSensorValue = 0;
  }

  // set analog output accordingly 
  analogWrite(LEDpin, mappedSensorValue);
  analogWrite(LEDpin2, mappedSensorValue);
  analogWrite(LEDpin3, mappedSensorValue);

  // print the sensor and mapped sensor values:
  Serial.print("Sensor Value: ");
  Serial.print(sensorValue);
  Serial.print(", Mapped Sensor Value: ");
  Serial.println(mappedSensorValue);

  // delay between readings:
  delay(100);
}
